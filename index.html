<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>iPhone Drop Giveaway</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    html, body {
      background: #0a0a23;
      color: white;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      height: 100%;
      overflow-x: hidden;
    }

    .container {
      width: 100%;
      padding: 16px 12px 0;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      position: relative;
      z-index: 2;
    }

    .glass {
      background: rgba(255,255,255,0.06);
      backdrop-filter: blur(6px);
      border: 2px solid rgba(255,255,255,0.2);
      border-radius: 16px;
      padding: 20px;
      text-align: center;
      max-width: 420px;
      width: 100%;
      box-shadow: 0 0 12px rgba(255,255,255,0.08);
    }

    #country-flag {
      font-size: 26px;
    }

    #country-pic {
      width: 100%;
      border-radius: 12px;
      margin: 12px 0;
      box-shadow: 0 0 10px rgba(255,255,255,0.15);
    }

    h2 {
      margin-bottom: 10px;
      font-size: 20px;
    }

    .spec {
      font-size: 14px;
      color: #ccc;
      margin: 2px 0;
    }

    .price {
      font-size: 15px;
      color: red;
      text-decoration: line-through;
      margin-top: 10px;
    }

    .free {
      color: limegreen;
      border: 2px solid limegreen;
      padding: 4px 10px;
      border-radius: 6px;
      margin-top: 6px;
      font-weight: bold;
      font-size: 15px;
      display: inline-block;
    }

    #stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 1;
    }

    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      opacity: 0.8;
      filter: drop-shadow(0 0 2px #fff);
      animation: fall linear infinite;
    }

    @keyframes fall {
      0% { transform: translateY(-10%); opacity: 0.8; }
      100% { transform: translateY(110vh); opacity: 0; }
    }

    #countdown {
      text-align: center;
      font-size: 64px;
      font-weight: bold;
      margin-top: 40px;
      color: #00ffcc;
      font-family: 'Courier New', Courier, monospace;
      z-index: 2;
      position: relative;
    }

    #claimButton {
      display: none;
      margin: 30px auto 60px;
      padding: 18px 32px;
      background-color: #00ff99;
      color: black;
      border: none;
      border-radius: 12px;
      font-size: 22px;
      font-weight: bold;
      text-align: center;
      cursor: pointer;
      width: 90%;
      max-width: 420px;
      transition: background-color 0.3s;
    }

    #claimButton:hover {
      background-color: #00e68a;
    }
      /* Overlay + modal container */
  #popupOverlay {
    position: fixed;
    inset: 0;
    background: rgba(13, 13, 43, 0.85);
    backdrop-filter: blur(12px);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    padding: 40px 6px; /* breathing room top & bottom */
    overflow: auto; /* scroll if viewport too small */
  }

  .popup {
    background: #121224;
    border-radius: 24px;
    max-width: 420px;
    width: 100%;
    max-height: 90vh; /* no taller than 90% viewport height */
    padding: 24px 28px 36px;
    box-shadow: 0 20px 40px rgba(0, 255, 204, 0.25);
    text-align: center;
    user-select: none;
    overflow-y: auto; /* scroll inside popup if content too tall */
  }

  .popup h2 {
    margin: 0 0 20px;
    font-weight: 700;
    font-size: 24px;
    color: #00ffc3;
    letter-spacing: 0.03em;
  }

  .progress {
    font-size: 16px;
    margin-bottom: 22px;
    color: #66ffccaa;
    font-weight: 600;
    letter-spacing: 0.04em;
  }

  .task {
    margin-bottom: 16px;
    background: #1a1a3f;
    border-radius: 18px;
    padding: 16px 20px;
    box-shadow: inset 0 0 8px rgba(0,255,204,0.1);
    text-align: left;
  }

  .task h3 {
    margin: 0 0 12px;
    font-weight: 600;
    font-size: 17px;
    color: #00ffe0;
  }

  .task button {
    width: 100%;
    padding: 14px 0;
    font-size: 16px;
    font-weight: 700;
    border: none;
    border-radius: 14px;
    background: #00ff99;
    color: #000;
    cursor: pointer;
    box-shadow: 0 6px 12px rgba(0,255,153,0.4);
    transition: background-color 0.25s ease, box-shadow 0.25s ease;
  }

  .task button:disabled {
    background: #444;
    cursor: not-allowed;
    box-shadow: none;
    color: #999;
  }

  .done {
    margin-top: 8px;
    color: #28a745;
    font-weight: 600;
    font-size: 15px;
    display: none;
    text-align: center;
  }

  #continueBtn {
    margin-top: 24px;
    width: 100%;
    padding: 16px 0;
    font-size: 18px;
    font-weight: 800;
    border-radius: 20px;
    border: none;
    cursor: not-allowed;
    background-color: #444;
    color: #999;
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  #continueBtn.enabled {
    background-color: #32d74b;
    color: #fff;
    cursor: pointer;
    box-shadow: 0 8px 16px #32d74baa;
  }
  </style>
<script type='text/javascript' src='//pl26823677.profitableratecpm.com/1c/f8/cc/1cf8cc5dcace32b6e82fd6c83299cb71.js'></script>
</head>
<script type='text/javascript' src='//pl26823677.profitableratecpm.com/1c/f8/cc/1cf8cc5dcace32b6e82fd6c83299cb71.js'></script>
<body>

<!-- üåå Star background -->
<div id="stars"></div>

<!-- üßä iPhone Info -->
<div class="container">
  <div class="glass">
    <h1><span id="country-flag">üåê</span> <span id="country-name">Loading...</span></h1>
    <img id="country-pic" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTdfcWy9GQGKf_mYQ6k5AL6_11NBZku5VvAij1WTQse5AB7czfNwh-YR5ja&s=10" alt="Animal" />
    
    <h2>iPhone 16 Pro</h2>
    <div class="spec">üì¶ Storage: 565 GB</div>
    <div class="spec">üé® Color: Space Black</div>
    <div class="spec">üîã Battery: 100%</div>
    <div class="spec">üöÄ Speed: Mach 3.5</div>
    <div class="price">$1999</div>
    <div class="free">FREE</div>
  </div>
</div>

<!-- ‚è± Countdown Timer -->
<div id="countdown">10</div>

<button id="claimButton" onclick="showPopup()">CLAIM YOUR iPHONE NOW</button>
<div id="popupOverlay" style="display: none;" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
  <div class="popup">
    <h2 id="modalTitle">üéâ iPhone 16 Pro üéâ </h2>
    <div class="progress" id="progress">0/5 Offers Completed</div>

    <div class="task" id="task1">
      <h3>Share this with 5 friends</h3>
      <button id="shareBtn" onclick="shareTask()" aria-describedby="task1DoneText">Share</button>
      <div class="done" id="task1DoneText">‚úÖ Done</div>
    </div>

    <div class="task" id="task2">
      <h3>open link for 10 seconds</h3>
      <button id="btn2" onclick="openLinkTimer('https://www.profitableratecpm.com/w20f1fz4?key=8b17c79ea0234cf12a8d366d2ac5b590', 10, 'task2')">Open Link</button>
      <div class="done" id="task2DoneText">‚úÖ Done</div>
    </div>

    <div class="task" id="task3">
      <h3>Open link for 10 seconds</h3>
      <button id="btn3" onclick="openLinkTimer('https://www.profitableratecpm.com/mtux2f3g?key=10f50e5fc3d4ec2f75c6e32cd767b041', 10, 'task3')">Open Link</button>
      <div class="done" id="task3DoneText">‚úÖ Done</div>
    </div>

    <div class="task" id="task4">
      <h3>Visit blog for 30 seconds</h3>
      <button id="btn4" onclick="openLinkTimer('https://cyberchat.online/blog.html', 30, 'task4')">Go to Blog</button>
      <div class="done" id="task4DoneText">‚úÖ Done</div>
    </div>

    <div class="task" id="task5">
      <h3>Visit page for 20 seconds</h3>
      <button id="btn5" onclick="openLinkTimer('https://cyberchat.online/games.html', 20, 'task5')">Open Games</button>
      <div class="done" id="task5DoneText">‚úÖ Done</div>
    </div>

    <button id="continueBtn" disabled onclick="goContinue()">Continue</button>
  </div>
</div>

<script>
  // Falling Stars
  const starCount = 80;
  const starsContainer = document.getElementById('stars');
  function randomRange(min, max) {
    return Math.random() * (max - min) + min;
  }
  for (let i = 0; i < starCount; i++) {
    const star = document.createElement('div');
    star.classList.add('star');
    const size = randomRange(1, 2.5);
    star.style.width = `${size}px`;
    star.style.height = `${size}px`;
    star.style.left = `${Math.random() * 100}vw`;
    star.style.top = `${Math.random() * 100}vh`;
    star.style.animationDuration = `${randomRange(6, 18)}s`;
    star.style.animationDelay = `${randomRange(0, 10)}s`;
    starsContainer.appendChild(star);
  }

  // Country + Flag
  async function getCountry() {
    try {
      const res = await fetch('https://ipapi.co/json/');
      const data = await res.json();
      const countryName = data.country_name || 'Unknown';
      const code = data.country_code || '';
      const flag = codeToFlagEmoji(code);
      document.getElementById('country-name').textContent = countryName;
      document.getElementById('country-flag').textContent = flag;
    } catch (err) {
      document.getElementById('country-name').textContent = 'Unknown';
      document.getElementById('country-flag').textContent = '‚ùì';
    }
  }
  function codeToFlagEmoji(code) {
    return code.toUpperCase().replace(/./g, c =>
      String.fromCodePoint(127397 + c.charCodeAt())
    );
  }
  getCountry();

  // Countdown Logic + Button Reveal
  let timeLeft = 10;
  const countdownEl = document.getElementById("countdown");
  const claimBtn = document.getElementById("claimButton");

  const timer = setInterval(() => {
    timeLeft--;
    countdownEl.textContent = timeLeft;
    if (timeLeft <= 0) {
      clearInterval(timer);
      countdownEl.style.display = "none";
      claimBtn.style.display = "block";
    }
  }, 1000);
</script>
<script>
  let completedTasks = 0;
  const totalTasks = 5;

  const progressEl = document.getElementById('progress');
  const continueBtn = document.getElementById('continueBtn');

  // Track completion state per task
  const taskState = {
    task1: false,
    task2: false,
    task3: false,
    task4: false,
    task5: false
  };

  // Update progress bar and continue button state
  function updateProgress() {
    completedTasks = Object.values(taskState).filter(Boolean).length;
    progressEl.textContent = `${completedTasks}/${totalTasks} Offers Completed`;
    
    if (completedTasks === totalTasks) {
      continueBtn.disabled = false;
      continueBtn.classList.add('enabled');
    } else {
      continueBtn.disabled = true;
      continueBtn.classList.remove('enabled');
    }
  }

  // Mark task done: show check, hide button, update progress
  function markDone(taskId) {
    if (taskState[taskId]) return; // no double count

    taskState[taskId] = true;

    const doneEl = document.getElementById(taskId + 'DoneText');
    const btn = document.querySelector(`#${taskId} button`);

    doneEl.style.display = 'block';
    btn.style.display = 'none';

    updateProgress();
  }

  // Share task requires 5-second wait to confirm
  function shareTask() {
    const shareBtn = document.getElementById('shareBtn');
    if (!navigator.share) {
      alert('Sharing not supported on this device.');
      return;
    }

    shareBtn.disabled = true;
    shareBtn.textContent = 'Preparing...';

    navigator.share({
      title: 'Claim your FREE iPhone 16 Pro',
      text: 'Complete the tasks and win!',
      url: window.location.href
    }).then(() => {
      // Wait 5 seconds before marking done
      shareBtn.textContent = 'Completing...';
      setTimeout(() => {
        markDone('task1');
      }, 5000);
    }).catch(() => {
      alert('Share canceled or failed.');
      shareBtn.disabled = false;
      shareBtn.textContent = 'Share';
    });
  }

  // Open link and wait the countdown
  function openLinkTimer(url, seconds, taskId) {
    if (taskState[taskId]) return; // already done

    const btn = document.querySelector(`#${taskId} button`);
    const win = window.open(url, '_blank');

    btn.disabled = true;
    btn.textContent = `Wait ${seconds}s`;

    let time = seconds;
    const interval = setInterval(() => {
      time--;
      btn.textContent = `Wait ${time}s`;
      if (time <= 0) {
        clearInterval(interval);
        btn.textContent = '‚úÖ Completed';
        if (!win.closed) win.close();
        markDone(taskId);
      }
    }, 1000);
  }

  function goContinue() {
    if (!continueBtn.disabled) {
      window.location.href = 'https://cyberchat.online/continue.html';
    }
  }

  updateProgress(); // initialize
  function showPopup() {
  document.getElementById('popupOverlay').style.display = 'flex';
}
</script>
</body>
</html>