<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Presley AI</title>
  <style>
    :root {
      --bg: #000;
      --card: #111;
      --text: #fff;
      --accent: #1f1f1f;
      --border: #2a2a2a;
      --neon: #0ff;
      --neon-red: #ff0040;
      --green: #00ff00;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      color: var(--text);
      font-family: 'Segoe UI', sans-serif;
    }

    body {
      background: var(--bg);
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
    }

    .container {
      flex: 1;
      width: 100%;
    }

    .neon-header {
      width: 90%;
      margin: 2rem auto 1rem;
      padding: 1rem 2rem;
      background: linear-gradient(145deg, #0a0a0a, #111);
      border-radius: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow:
        0 0 10px var(--neon),
        0 0 20px var(--neon),
        0 0 30px var(--neon),
        0 0 40px var(--neon);
      border: 1px solid var(--neon);
    }

    .header-label {
      font-size: 0.9rem;
      color: var(--neon);
      font-weight: 500;
    }

    .profile-icon {
      width: 35px;
      height: 35px;
      border-radius: 50%;
      background: url('https://i.imgur.com/3GvwNBf.png') center/cover no-repeat;
      box-shadow:
        0 0 8px var(--neon-red),
        0 0 15px var(--neon-red),
        inset 0 0 5px var(--neon-red);
      border: 1px solid var(--neon-red);
    }

    /* Slideshow styles */
    .slideshow-container {
  width: 80%;
  margin: 10rem auto 2rem auto; /* Top margin increased */
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
}

.slide {
  display: none;
  position: absolute;
  width: 100%;
  height: 1500;
  object-fit: cover;
  border-radius: 20px;
  transition: opacity 1s ease-in-out;
}

.active {
  display: block;
}

/* Hidden utility class */
.hidden {
  display: none !important;
}

/* Upload section */
.upload-section {
  width: 80%;
  margin-top: 3rem;
  text-align: center;
}

.upload-btn {
  background: var(--neon);
  border: none;
  padding: 1rem 2rem;
  border-radius: 8px;
  cursor: pointer;
  margin-top: 1rem;
  box-shadow: 0 0 10px var(--neon), 0 0 20px var(--neon);
  font-size: 1.2rem;
  color: black;
}

.upload-btn:hover {
  background: var(--neon-red);
}

/* General popup container style (for both popups) */
.popup-info,
.popup-upload {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.85);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

/* Info Popup content (How it works popup) */
.popup-content {
  background: #111;
  color: #fff;
  padding: 30px;
  border-radius: 16px;
  max-width: 400px;
  width: 90%;
  box-shadow: 0 0 20px rgba(0, 255, 213, 0.4);
  font-family: 'Segoe UI', sans-serif;
  position: relative;
  text-align: left;
}

.popup-content h2 {
  margin-top: 0;
  text-align: center;
  font-size: 1.6rem;
  margin-bottom: 20px;
  color: #00ffd5;
}

.close-btn {
  position: absolute;
  top: 15px;
  right: 20px;
  color: #888;
  font-size: 24px;
  cursor: pointer;
}

/* Steps inside info popup */
.step {
  display: flex;
  align-items: flex-start;
  margin-bottom: 20px;
}

.icon {
  font-size: 24px;
  margin-right: 12px;
  margin-top: 4px;
}

/* Upload confirmation popup box */
.popup-box {
  background: var(--card);
  padding: 2rem;
  border-radius: 16px;
  border: 1px solid var(--border);
  box-shadow: 0 0 30px rgba(255,255,255,0.1);
  width: 90%;
  max-width: 350px;
  text-align: center;
}

.popup-box h2 {
  font-size: 1.5rem;
  margin-bottom: 1rem;
}

.cost {
  font-size: 1.5rem;
  font-weight: bold;
  color: var(--green);
}
.text strong {
  font-size: 1rem;
  display: block;
  color: #fff;
  margin-bottom: 4px;
}
  </style>
</head>
<body>

<!-- Header -->
<div class="neon-header">
  <span class="header-label">PRESLEY AI</span>
  <div class="profile-icon" onclick="document.getElementById('profile-popup').style.display = 'block';"></div>
</div>

<!-- Info Popup -->
<div id="profile-popup" class="popup-info">
  <div class="popup-content">
    <span class="close-btn" onclick="document.getElementById('profile-popup').style.display = 'none';">&times;</span>
    <h2>How It Works</h2>

    <div class="step">
      <span class="icon">ðŸ“¤</span>
      <div class="text">
        <strong>UPLOAD YOUR PIC</strong>
        <p>Select a photo you want cartooned.</p>
      </div>
    </div>

    <div class="step">
      <span class="icon">ðŸŽ¨</span>
      <div class="text">
        <strong>CARTOON SENT TO EMAIL/WHATSAPP</strong>
        <p>You get your cartoon version delivered directly to your inbox or WhatsApp.</p>
      </div>
    </div>

    <div class="step">
      <span class="icon">ðŸ’¸</span>
      <div class="text">
        <strong>R2 PER PIC</strong>
        <p>Each cartoon costs only R2, paid after it's created.</p>
      </div>
    </div>

    <div class="step">
      <span class="icon">ðŸ¤”</span>
      <div class="text">
        <strong>HOW TO PAY</strong>
        <p>Pay using 1Voucher or Betway Voucher.</p>
      </div>
    </div>
  </div>
</div>

<!-- Upload Section -->
<div class="upload-section">
  <h2>Upload Your Photo</h2>
  <button class="upload-btn" id="uploadBtn" aria-label="Upload your photo to be cartooned">Cartoon Me Now</button>
</div>

<!-- Slideshow of robot images -->
<div class="slideshow-container">
  <img class="slide active" src="https://i.ibb.co/jvdNNJS8/In-Shot-20250406-230739434.jpg" alt="Robot 1">
  <img class="slide" src="https://i.ibb.co/fGM6GX8F/In-Shot-20250406-230835206.jpg" alt="Robot 2">
</div>

<!-- Upload Confirmation Popup -->
<div class="popup-upload hidden" id="popup">
  <div class="popup-box">
    <h2>Uploaded!</h2>
    <p>Your photo is being cartooned.</p>
    <p>It will be sent to your WhatsApp or email.</p>
    <p class="cost">Cost: R2 per image</p>
  </div>
</div>
  <!-- Firebase -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
    import { getDatabase, ref, set, push } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDFHskUWiyHhZke3KT9kkOtFI_gPsKfiGo",
      authDomain: "itzhoyoo-f9f7e.firebaseapp.com",
      databaseURL: "https://itzhoyoo-f9f7e-default-rtdb.firebaseio.com",
      projectId: "itzhoyoo-f9f7e",
      storageBucket: "itzhoyoo-f9f7e.appspot.com",
      messagingSenderId: "1094792075584",
      appId: "1:1094792075584:web:d49e9c3f899d3cd31082a5",
      measurementId: "G-LLT6F9WRKH"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // Slideshow logic
    let slideIndex = 0;
    const slides = document.querySelectorAll('.slide');

    function showSlides() {
      slides.forEach((slide, index) => {
        slide.classList.remove('active');
        if (index === slideIndex) {
          slide.classList.add('active');
        }
      });
      slideIndex = (slideIndex + 1) % slides.length;
    }

    setInterval(showSlides, 3000); // Change every 3 seconds

    // Upload Button Logic
    const uploadBtn = document.getElementById('uploadBtn');
    uploadBtn.addEventListener('click', async () => {
      // Open Bytescale Upload Widget
      const options = {
        apiKey: "public_G22nhfV9sQDzsAtqBZZQJ32uUigV", // Your API key
        maxFileCount: 1
      };

      Bytescale.UploadWidget.open(options).then(
        async (files) => {
          const fileUrls = files.map(x => x.fileUrl).join("\n");
          if (fileUrls) {
            try {
              const userRef = push(ref(db, "PresleyAI"));
              await set(userRef, {
                email: "user@example.com", // Replace with actual user email
                phone: "1234567890", // Replace with actual phone number
                imageUrl: fileUrls,
                uploadedAt: new Date().toISOString(),
              });

              // Show upload popup
              const popup = document.getElementById('popup');
              popup.classList.remove('hidden');

              // Simulate a cartoon transformation process
              setTimeout(() => {
                alert("YOUR CARTOONED IMAGE WILL BE READY AND SENT AFTER YOU SUBMIT THE 1 VOUCHER CODE.");
                popup.classList.add('hidden');
              }, 5000); // Simulate processing time (5 seconds)
            } catch (error) {
              alert("Error: " + error.message);
            }
          } else {
            alert("No file selected.");
          }
        },
        (error) => {
          alert("Error: " + error.message);
        }
      );
    });
  </script>

  <!-- Bytescale SDK -->
  <script src="https://js.bytescale.com/upload-widget/v4"></script>
</body>
</html>