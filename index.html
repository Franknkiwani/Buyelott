<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Page Title -->
  <title>WATCH-4-RBX | Earn Free Robux by Watching Shorts</title>

  <!-- Meta Description -->
  <meta name="description" content="Earn free Robux instantly by watching short Roblox videos. Easy, fun, and 100% safe. Start collecting Robux now!">

  <!-- Favicon -->
  <link rel="icon" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRRJFUqBFTqpZINmIz347Aq4OO59CcOc_vwtfViecfq2g&s=10" type="image/png">

  <!-- Open Graph / Social Preview -->
  <meta property="og:title" content="WATCH-4-RBX | Earn Free Robux by Watching Shorts">
  <meta property="og:description" content="Earn free Robux instantly by watching short Roblox videos. Easy, fun, and 100% safe. Start collecting Robux now!">
  <meta property="og:image" content="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRFMu2e9gaNAB2lo_naNy92h34lZAhSYhtsht3CMpD98toPCizKavTeORE&s=10">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://watch4rbx.com">

  <!-- Twitter Card Preview -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="WATCH-4-RBX | Earn Free Robux by Watching Shorts">
  <meta name="twitter:description" content="Earn free Robux instantly by watching short Roblox videos. Easy, fun, and 100% safe. Start collecting Robux now!">
  <meta name="twitter:image" content="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRFMu2e9gaNAB2lo_naNy92h34lZAhSYhtsht3CMpD98toPCizKavTeORE&s=10">
<style>
* {
  user-select: none;
  -webkit-user-select: none;
}

body {
  margin: 0;
  background: #121212;
  color: white;
  font-family: Arial, sans-serif;
}

header {
  position: sticky;       /* Makes it stick */
  top: 0;                 /* Stick to top of viewport */
  z-index: 9999;          /* Stay above other content */
  background: rgba(26,26,26,0.95);  /* Slightly transparent dark bg */
  backdrop-filter: blur(12px);      /* Glassy iOS effect */
  padding: 8px 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 4px 12px rgba(0,0,0,0.5); /* subtle depth */
}

.logo-name {
  display: flex;
  align-items: center;
  gap: 12px;
}
header img { width: 40px; }

/* BUTTONS */
button {
  border-radius: 999px;
  padding: 10px 18px;
  font-weight: bold;
  border: none;
  cursor: pointer;
}

.login-btn { background: cyan; color: #121212; }
.signup-btn { background: hotpink; color: #121212; }

/* BALANCE */
#balanceBtn {
  display: none;
  background: white;
  color: #121212;
  border-radius: 999px;
  padding: 6px 10px 6px 14px;
  align-items: center;
  gap: 10px;
  box-shadow: 0 4px 14px rgba(0,0,0,0.5);
}

#getRobuxBtn {
  background: #00c853;
  color: white;
  border-radius: 999px;
  padding: 6px 12px;
  font-size: 13px;
}

/* MENU */
.menu-wrapper { position: relative; }
.dots { font-size: 20px; cursor: pointer; padding: 0 6px; }

.menu {
  display: none;
  position: absolute;
  right: 0;
  top: 28px;
  background: #1a1a1a;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 6px 20px rgba(0,0,0,0.6);
}
.menu div {
  padding: 10px 14px;
  cursor: pointer;
}
.menu div:hover { background: #2a2a2a; }

/* MODALS */
.modal {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  justify-content: center;
  align-items: center;
}

@keyframes glow {
  0% { background-position: 0% }
  100% { background-position: 100% }
}

.modal-box {
  width: 80%;
  max-width: 420px;
  padding: 3px;
  border-radius: 24px;
  background: linear-gradient(90deg, cyan, hotpink, violet);
  background-size: 300%;
  animation: glow 1s linear infinite;
}

.modal-content {
  background: #121212;
  border-radius: 22px;
  padding: 28px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.modal-content input {
  padding: 12px;
  border-radius: 14px;
  border: none;
}

.close-btn {
  text-align: right;
  cursor: pointer;
}

/* NOTICES */
.notice {
  padding: 8px;
  border-radius: 10px;
  text-align: center;
  font-size: 14px;
}
.notice.error { background: #3a0000; color: #ff6b6b; }
.notice.success { background: #003a1a; color: #3dff9c; }
/* STOP TEXT SELECTION & COPYING */
* {
  user-select: none;           /* Standard */
  -webkit-user-select: none;   /* Chrome/Safari */
  -moz-user-select: none;      /* Firefox */
  -ms-user-select: none;       /* IE/Edge */
}

body {
  -webkit-touch-callout: none; /* Disable long-press menu on iOS */
}

input, textarea {
  user-select: text; /* Keep inputs editable */
}
/* REMOVE BLUE TAP/FOCUS HIGHLIGHT */
* {
  outline: none;                 /* Remove default focus outline */
  -webkit-tap-highlight-color: transparent; /* Remove mobile tap highlight */
}
#videoContainer {
  position: relative;
  width: 80%;
  max-width: 640px;
  margin: 0 auto;
}

#player {
  width: 100%;
  border-radius: 20px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.5);
  display: block;
}

#playPauseBtn {
  position: absolute;
  bottom: 12px;       /* distance from bottom inside video */
  left: 50%;          /* center horizontally */
  transform: translateX(-50%);
  padding: 10px 20px;
  border-radius: 20px;
  border: none;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(12px);
  color: #00ffd5;
  font-weight: bold;
  font-size: 16px;
  cursor: pointer;
  box-shadow: 0 8px 24px rgba(0,0,0,0.4);
  transition: all 0.2s ease;
}

#playPauseBtn:hover {
  background: rgba(255, 255, 255, 0.15);
  color: #00fff0;
  transform: translateX(-50%) scale(1.05);
}


/* Get Robux popup/modal */
#withdrawModal {
  z-index: 10000; /* higher than menu so it stays on top */
}
/* General Section Styling */
#howItWorks, #statsSection {
  padding: 40px 20px;
  background: #121212;
  color: white;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 24px;
  text-align: center;
}

/* Section Titles */
#howItWorks h2 {
  color: #00ffd5;
  font-size: 26px;
  font-weight: 600;
}

/* Steps Container */
.steps-container {
  width: 100%;
  max-width: 600px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* Individual Step */
.step {
  background: rgba(255,255,255,0.05);
  backdrop-filter: blur(12px);
  border-radius: 20px;
  padding: 18px 20px;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.step-title {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 500;
  font-size: 18px;
  color: #00ffd5;
}

.step-content {
  display: none;
  font-size: 14px;
  color: #ccc;
}

/* Stats Section */
#statsSection {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: 20px;
}

.stat-card {
  flex: 1 1 0;
  min-width: 250px;
  background: rgba(255,255,255,0.05);
  backdrop-filter: blur(20px);
  border-radius: 25px;
  padding: 35px 20px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  box-shadow: 0 12px 36px rgba(0,0,0,0.5);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  text-align: center;
}

.stat-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 18px 42px rgba(0,0,0,0.6);
}

.stat-number {
  font-size: 42px;
  font-weight: 700;
  color: #00ffd5; /* can change per card with IDs */
}

#totalUsers .stat-number {
  color: #ff6b6b;
}

#activeSessions .stat-number {
  color: #ffdd00;
}

.stat-label {
  font-size: 16px;
  color: #ccc;
}
/* Logo bounce animation */
@keyframes bounce {
  0%,100%{ transform:translateY(0);}
  50%{ transform:translateY(-15px);}
}

/* Robux coin for later animation */
.robuxCoin {
  position:absolute;
  width:24px;
  height:24px;
  background:url('https://img.icons8.com/clouds/100/robux.png') no-repeat center/contain;
  pointer-events:none;
  animation:fall 2s linear forwards;
}

@keyframes fall {
  0% {transform: translateY(0) rotate(0deg);}
  100% {transform: translateY(600px) rotate(360deg); opacity:0;}
}

/* Optional: customize progress bar animation when script adds width */
#loadingBar {
  transition: width 0.2s ease-in-out;
}
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
 .footer {
  background-color: #121212;
  animation: footerColorChange 5s infinite alternate, rainbowFooter 10s linear infinite;
}

@keyframes footerColorChange {
  0%   { background-color: #121212; }
  20%  { background-color: #1a1a2e; }
  40%  { background-color: #2e1a3a; }
  60%  { background-color: #1a2e2e; }
  80%  { background-color: #2e2e1a; }
  100% { background-color: #121212; }
}

@keyframes rainbowFooter {
  0%   { filter: hue-rotate(0deg); }
  100% { filter: hue-rotate(360deg); }
}
</style>
</head>
<body>

<header>
  <div class="logo-name">
    <img src="https://img.icons8.com/clouds/100/robux.png" alt="WATCH-4-RBX Logo">
    <span>WATCH-4-RBX</span>
  </div>

  <div id="authButtons">
    <button class="login-btn" onclick="openLoginModal()">LOGIN</button>
    <button class="signup-btn" onclick="openSignupModal()">SIGNUP</button>
  </div>

  <div id="balanceBtn">
    <span id="rbxText">RBX: 0</span>
    <button id="getRobuxBtn">GET</button>

    <div class="menu-wrapper">
      <span class="dots" onclick="toggleMenu()">⋮</span>
      <div id="menu" class="menu">
        <div onclick="logoutUser()" style="color:#ff4d4d; font-weight:bold; cursor:pointer;">Log out</div>
      </div>
    </div>
  </div>
</header>

<!-- Top Section -->
<div style="display:flex; flex-direction:column; align-items:center; margin-top:20px; gap:16px;">

  <!-- Top Glassy Text -->
  <div id="topText" style="
    width: 80%;
    max-width: 640px;
    text-align: center;
    padding: 12px 20px;
    border-radius: 20px;
    background: rgba(255,255,255,0.1);
    backdrop-filter: blur(12px);
    color: #00ffd5;
    font-size: 18px;
    font-weight: 500;
    box-shadow: 0 8px 24px rgba(0,0,0,0.4);
  ">
    You earn 1 Robux per short watched
  </div>

  <!-- Video Player Container -->
  <div id="videoContainer" style="
    width: 80%;
    max-width: 640px;
    text-align: center;
    position: relative;
  ">
    <!-- Glassy Loader -->
    <div id="loader" style="
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      border-radius: 20px;
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(12px);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: #00ffd5;
      font-weight: bold;
      font-size: 16px;
      z-index: 10;
    ">
      <div style="
        border: 4px solid rgba(255,255,255,0.2);
        border-top: 4px solid #00ffd5;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
        margin-bottom: 10px;
      "></div>
      Loading your short...
    </div>

    <!-- Video -->
    <video id="player" style="
      width: 100%;
      border-radius: 20px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.5);
    ">
      <source src="" type="video/mp4">
      Your browser does not support the video tag.
    </video>

    <!-- Play/Pause Button -->
    <div style="text-align:center; margin-top:10px;">
      <button id="playPauseBtn" style="
        padding:10px 20px;
        border-radius:12px;
        border:none;
        background:#00ffd5;
        color:#000;
        font-weight:bold;
        cursor:pointer;
      ">⏸️ Play</button>
    </div>

  </div>

</div>

<!-- HOW IT WORKS - iOS Dark Style -->
<section id="howItWorks">
  <h2>How It Works</h2>

  <div class="steps-container">
    <!-- Step 1 -->
    <div class="step">
      <div class="step-title">
        1️⃣ Sign Up / Login
        <span class="arrow">▼</span>
      </div>
      <div class="step-content">
        Create your account or login to start earning Robux by watching shorts. All data is securely stored.
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-title">
        2️⃣ Watch Shorts
        <span class="arrow">▼</span>
      </div>
      <div class="step-content">
        Watch short videos. Each completed video rewards you with 1 Robux. Do not skip ahead!
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-title">
        3️⃣ Collect Robux
        <span class="arrow">▼</span>
      </div>
      <div class="step-content">
        Robux appear automatically in your balance at the top of the page.
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-title">
        4️⃣ Withdraw
        <span class="arrow">▼</span>
      </div>
      <div class="step-content">
        Once you reach 100 Robux, click "GET" to request a withdrawal to your Roblox account.
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-title">
        5️⃣ Support & FAQ
        <span class="arrow">▼</span>
      </div>
      <div class="step-content">
        Contact support or check the FAQ if you have questions. Withdrawals and balance update live.
      </div>
    </div>
  </div>
</section>

<!-- STATS SECTION -->
<section id="statsSection">
  <div class="stat-card" id="totalRobux">
    <div class="stat-number">150,000+</div>
    <div class="stat-label">Total Robux Earned</div>
  </div>

  <div class="stat-card" id="totalUsers">
    <div class="stat-number">25,000+</div>
    <div class="stat-label">Total Users</div>
  </div>

  <div class="stat-card" id="activeSessions">
    <div class="stat-number">2k+</div>
    <div class="stat-label">Daily Concurrent</div>
  </div>
</section>

</div>

<!-- iOS-style Popup -->
<div id="popup" style="
  position: fixed;
  top: 50%; left: 50%;
  transform: translate(-50%,-50%);
  background: #f2f2f7;
  color: #000;
  padding: 20px;
  border-radius: 15px;
  width: 80%; max-width: 300px;
  text-align: center;
  font-size: 16px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  display: none;
  flex-direction: column;
">
  <div>Congrats! You earned 1 Robux!</div>
  <button id="okButton" style="
    margin-top: 15px;
    padding: 10px 20px;
    border-radius: 12px;
    border: none;
    background-color: #007aff;
    color: #fff;
    font-size: 16px;
    cursor: pointer;
  ">OK</button>
</div>
<!-- LOGIN -->
<div id="loginModal" class="modal">
  <div class="modal-box">
    <div class="modal-content">
      <div class="close-btn" onclick="closeLoginModal()">✕</div>
      <input id="loginEmail" placeholder="Email">
      <input id="loginPassword" type="password" placeholder="Password">
      <div id="loginNotice" class="notice"></div>
      <button class="login-btn" onclick="loginUser()">Login</button>
      <small onclick="forgotPassword()" style="cursor:pointer">Forgot password?</small>
    </div>
  </div>
</div>

<!-- SIGNUP -->
<div id="signupModal" class="modal">
  <div class="modal-box">
    <div class="modal-content">
      <div class="close-btn" onclick="closeSignupModal()">✕</div>
      <input id="signupEmail" placeholder="Email">
      <input id="signupPassword" type="password">
      <div id="signupNotice" class="notice"></div>
      <button class="signup-btn" onclick="signupUser()">Create Account</button>
    </div>
  </div>
</div>
<!-- LOADING SCREEN -->
<div id="loadingScreen" style="position:fixed; inset:0; background:#121212; display:flex; flex-direction:column; justify-content:center; align-items:center; z-index:9999;">
  <img src="https://img.icons8.com/clouds/100/robux.png" style="width:80px; animation:bounce 1.5s infinite;">
  <div style="color:white; margin:15px 0; font-size:18px;">Loading Robux Magic...</div>
  <div style="width:300px; max-width:80vw; height:12px; border-radius:12px; background: rgba(255,255,255,0.1); overflow:hidden;">
    <div id="loadingBar" style="width:0%; height:100%; background: linear-gradient(90deg, #ff4c4c, #ff1aff); border-radius:12px;"></div>
  </div>
</div>
<!-- WITHDRAW POPUP -->
<div id="withdrawModal" class="modal">
  <div class="modal-box">
    <div class="modal-content" style="text-align:center;">
      <div class="close-btn" onclick="closeWithdrawModal()">✕</div>
      
      <!-- Big User RBX Display -->
      <div style="font-size:48px; font-weight:bold; margin:10px 0;" id="withdrawRBX">0 RBX</div>
      <div style="font-size:14px; color:#aaa;">This is your available Robux</div>
      
      <!-- Username -->
      <input type="text" id="withdrawUsername" placeholder="@Roblox Username">
      <div id="usernameNotice" class="notice" style="display:none;"></div>
      
      <!-- Email -->
      <input type="email" id="withdrawEmail" placeholder="Email">
      <div id="emailNotice" class="notice" style="display:none;"></div>
      
      <!-- Error / Success message -->
      <div id="withdrawNotice" class="notice" style="display:none;"></div>
      
      <!-- Confirm Button -->
      <button id="confirmWithdrawBtn">CONFIRM NOW</button>
      
      <!-- Pending RBX bar -->
      <div id="pendingRBXBar" style="margin-top:15px; background:#333; border-radius:12px; padding:6px; color:#ff0; font-size:14px;">
        Pending Robux: 0
      </div>
    </div>
  </div>
</div>
<!-- FOOTER -->
<footer class="footer">
  <div class="footer-container">
    <!-- Logo & Description -->
    <div class="footer-logo">
      <img src="https://img.icons8.com/clouds/100/robux.png" alt="WATCH-4-RBX Logo">
      <p>Earn free Robux instantly by watching shorts. Safe, easy, and fun!</p>
    </div>

    <!-- Links -->
    <div class="footer-links">
      <h4>Links</h4>
      <ul>
        <li><button class="footer-btn" data-popup="howItWorksPopup">How It Works</button></li>
        <li><button class="footer-btn" data-popup="statsPopup">Stats</button></li>
        <li><button class="footer-btn" data-popup="faqPopup">FAQ</button></li>
        <li><button class="footer-btn" data-popup="termsPopup">Terms of Service</button></li>
        <li><button class="footer-btn" data-popup="privacyPopup">Privacy Policy</button></li>
        <li><button class="footer-btn" data-popup="contactPopup">Contact</button></li>
      </ul>
    </div>

    <!-- Support -->
    <div class="footer-support">
      <h4>Support</h4>
      <ul>
        <li><button class="footer-btn" data-popup="contactPopup">Email Support</button></li>
      </ul>
    </div>

    <!-- Social -->
    <div class="footer-social">
      <h4>Follow Us</h4>
      <div class="social-icons">
        <a href="https://www.youtube.com/" target="_blank">
          <img src="https://img.icons8.com/ios-glyphs/30/00ffd5/youtube-play.png" alt="YouTube"/>
        </a>
      </div>
    </div>
  </div>

  <!-- Copyright -->
  <div class="footer-bottom">
    &copy; 2025 WATCH-4-RBX. All rights reserved.
  </div>
</footer>

<!-- POPUP MODAL -->
<div id="popupModal" class="popup-modal">
  <div class="popup-content">
  <span class="popup-close" onclick="closePopup()" style="
  position: absolute; 
  top: 10px; 
  right: 15px; 
  font-size: 14px; 
  color: #ff4d4d; 
  cursor: pointer;
  font-weight: 500;
">
 <small style='font-size:12px; color:#ff6666; display:block; margin-top:2px;'>click outside to close</small>
</span>
    <div id="popupInnerContent"></div>
  </div>
</div>

<!-- POPUP CONTENT TEMPLATES -->
<template id="contactPopup">
  <h2>Contact Us</h2>
  <form id="contactForm">
    <input type="email" name="email" placeholder="Your Email" required>
    <textarea name="message" placeholder="Your Message" required></textarea>
    <button type="submit">Send</button>
  </form>
  <p id="contactStatus"></p>
</template>

<template id="faqPopup">
  <h2>FAQ</h2>
  <div class="faq-item">
    <strong>Q: Is this site safe?</strong>
    <p>A: Absolutely! WATCH-4-RBX never asks for your Roblox password. Your data is securely stored.</p>
  </div>
  <div class="faq-item">
    <strong>Q: How do I earn Robux?</strong>
    <p>A: Watch short Roblox videos in full. Each completed video adds 1 Robux to your balance.</p>
  </div>
  <div class="faq-item">
    <strong>Q: How long does it take to withdraw?</strong>
    <p>A: Once you reach 100 Robux, click "GET" and withdrawals are processed instantly.</p>
  </div>
  <div class="faq-item">
    <strong>Q: Can I earn more Robux by watching faster?</strong>
    <p>A: No, skipping or fast-forwarding may invalidate the video. Watch fully to earn.</p>
  </div>
  <div class="faq-item">
    <strong>Q: Do I need a Roblox account?</strong>
    <p>A: Yes, your Robux are sent directly to your Roblox account.</p>
  </div>
</template>

<template id="termsPopup">
  <h2>Terms of Service</h2>
  <p>Welcome to WATCH-4-RBX. By using our service, you agree to the following terms:</p>
  <ul>
    <li>You must be at least 13 years old to use this site.</li>
    <li>All Robux earnings are credited after watching videos fully and correctly.</li>
    <li>Skipping, spamming, or using automation may result in account suspension.</li>
    <li>WATCH-4-RBX is not affiliated with Roblox Corp.</li>
    <li>We reserve the right to modify the terms at any time. Continued use constitutes acceptance.</li>
  </ul>
</template>

<template id="privacyPopup">
  <h2>Privacy Policy</h2>
  <ul>
    <li>We only store your email and messages submitted via contact forms.</li>
    <li>We do not store Roblox passwords or payment info.</li>
    <li>Your data is never shared with third parties.</li>
    <li>We use Firebase Realtime Database for secure storage and retrieval.</li>
    <li>You can request data deletion at any time by contacting <strong>watch4rbx@gmail.com</strong>.</li>
  </ul>
</template>

<template id="howItWorksPopup">
  <h2>How It Works</h2>
  <ol>
    <li><strong>Sign Up / Login:</strong> Create your free account to start earning Robux.</li>
    <li><strong>Watch Shorts:</strong> Watch short Roblox videos fully. Each completed video adds 1 Robux.</li>
    <li><strong>Collect Robux:</strong> Your balance updates automatically at the top of the page.</li>
    <li><strong>Withdraw:</strong> Reach 100 Robux and click "GET" to receive your Robux instantly.</li>
    <li><strong>Support & FAQ:</strong> Contact us anytime or check the FAQ for assistance.</li>
  </ol>
</template>

<template id="statsPopup">
  <h2>Stats</h2>
  <ul>
    <li><strong>Total Robux Earned:</strong> 150,000+</li>
    <li><strong>Total Users:</strong> 25,000+</li>
    <li><strong>Daily Active Users:</strong> 2,000+</li>
    <li><strong>Videos Watched:</strong> 1,200,000+</li>
    <li><strong>Withdrawals Processed:</strong> 3,500+</li>
  </ul>
</template>

<!-- STYLES -->
<style>
.footer { background: #121212; color: #fff; font-family: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif; padding:40px 20px 20px;}
.footer-container { display:flex; flex-wrap:wrap; gap:40px; justify-content:space-between; max-width:1200px; margin:0 auto;}
.footer-logo img {width:80px;margin-bottom:12px;}
.footer-logo p {font-size:14px;color:#ccc; max-width:250px;}
.footer-links, .footer-support {min-width:150px;}
.footer-links h4, .footer-support h4, .footer-social h4 {color:#00ffd5; font-size:16px; margin-bottom:12px;}
.footer-links ul, .footer-support ul {list-style:none; padding:0; margin:0;}
.footer-links ul li, .footer-support ul li {margin-bottom:8px;}
.footer-links ul li button, .footer-support ul li button {background:none;border:none;color:#ccc;cursor:pointer;font-size:14px; transition:color 0.2s;}
.footer-links ul li button:hover, .footer-support ul li button:hover {color:#00ffd5;}
.footer-social .social-icons a {display:inline-block; transition: transform 0.2s;}
.footer-social .social-icons a:hover {transform:translateY(-3px);}
.footer-bottom {text-align:center;font-size:12px;color:#666; margin-top:30px; border-top:1px solid rgba(255,255,255,0.1); padding-top:20px;}

/* POPUP MODAL */
.popup-modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); justify-content:center; align-items:center; z-index:9999;}
.popup-content { background:#1e1e1e; padding:30px; border-radius:20px; max-width:500px; width:90%; position:relative; color:#fff;}
.popup-close { position:absolute; top:15px; right:20px; font-size:24px; cursor:pointer; }
.popup-content form { display:flex; flex-direction:column; gap:12px; }
.popup-content form input, .popup-content form textarea { padding:10px; border-radius:12px; border:none; outline:none; width:100%; font-size:14px; background:#2c2c2c; color:#fff; }
.popup-content form button { padding:12px; border-radius:12px; border:none; background:#00ffd5; font-weight:bold; cursor:pointer; color:#000; font-size:16px; }
.popup-content form button:hover {background:#00e0c0;}
#contactStatus {font-size:14px; color:#0f0; margin-top:8px;}
</style>


<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js";
import {
  getAuth,
  signInWithEmailAndPassword,
  createUserWithEmailAndPassword,
  sendPasswordResetEmail,
  onAuthStateChanged,
  signOut
} from "https://www.gstatic.com/firebasejs/10.1.0/firebase-auth.js";
import { getDatabase, ref, get, set, onValue } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-database.js";

/* FIREBASE CONFIG */
const firebaseConfig = {
  apiKey: "AIzaSyDFHskUWiyHhZke3KT9kkOtFI_gPsKfiGo",
  authDomain: "itzhoyoo-f9f7e.firebaseapp.com",
  databaseURL: "https://itzhoyoo-f9f7e-default-rtdb.firebaseio.com",
  projectId: "itzhoyoo-f9f7e",
  storageBucket: "itzhoyoo-f9f7e.appspot.com",
  messagingSenderId: "1094792075584",
  appId: "1:1094792075584:web:d49e9c3f899d3cd31082a5"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getDatabase();

/* --- MODALS --- */
window.openLoginModal = () => loginModal.style.display = 'flex';
window.closeLoginModal = () => loginModal.style.display = 'none';
window.openSignupModal = () => signupModal.style.display = 'flex';
window.closeSignupModal = () => signupModal.style.display = 'none';

/* --- NOTIFY --- */
function notify(el, msg, ok=false) {
  el.textContent = msg;
  el.className = 'notice ' + (ok ? 'success' : 'error');
}

/* --- LOGIN --- */
window.loginUser = async () => {
  try {
    await signInWithEmailAndPassword(auth, loginEmail.value, loginPassword.value);
    notify(loginNotice, "Login successful", true);
  } catch (e) {
    notify(loginNotice, e.code.replace('auth/',''));
  }
};

/* --- SIGNUP --- */
window.signupUser = async () => {
  try {
    await createUserWithEmailAndPassword(auth, signupEmail.value, signupPassword.value);
    set(ref(db, `users/${auth.currentUser.uid}/robux`), 0);
    notify(signupNotice, "Account created", true);
  } catch (e) {
    notify(signupNotice, e.code.replace('auth/',''));
  }
};

/* --- RESET PASSWORD --- */
window.forgotPassword = async () => {
  if (!loginEmail.value) return notify(loginNotice, "Enter email first");
  try {
    await sendPasswordResetEmail(auth, loginEmail.value);
    notify(loginNotice, "Reset email sent", true);
  } catch (e) {
    notify(loginNotice, e.code.replace('auth/',''));
  }
};

/* --- MENU --- */
window.toggleMenu = () => {
  menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
};
window.logoutUser = async () => {
  await signOut(auth);
  menu.style.display = 'none';
};

/* --- GET ROBUX BUTTON opens Withdraw Modal --- */
getRobuxBtn.onclick = () => openWithdrawModal();

/* --- WITHDRAW MODAL LOGIC --- */
window.openWithdrawModal = () => {
  withdrawModal.style.display = 'flex';
  const currentRBX = parseInt(rbxText.textContent.split(': ')[1]) || 0;
  withdrawRBX.textContent = `${currentRBX} RBX`;
};
window.closeWithdrawModal = () => withdrawModal.style.display = 'none';

confirmWithdrawBtn.onclick = async () => {
  const user = auth.currentUser;
  if (!user) return alert("Please login first!");

  const username = withdrawUsername.value.trim();
  const email = withdrawEmail.value.trim();
  const rbxAmount = parseInt(rbxText.textContent.split(': ')[1]) || 0;

  usernameNotice.style.display = emailNotice.style.display = withdrawNotice.style.display = 'none';

  let valid = true;
  if(username.length < 3) {
    usernameNotice.textContent = "Enter a valid Roblox username";
    usernameNotice.style.display='block';
    usernameNotice.className='notice error';
    valid = false;
  }
  if(!email.includes("@")) {
    emailNotice.textContent = "Enter a valid email";
    emailNotice.style.display='block';
    emailNotice.className='notice error';
    valid = false;
  }
  if(rbxAmount < 100) {
    withdrawNotice.textContent = "Minimum 100 Robux required";
    withdrawNotice.style.display='block';
    withdrawNotice.className='notice error';
    valid = false;
  }
  if(!valid) return;

  try {
    const remaining = rbxAmount - 100;
    await set(ref(db, `users/${user.uid}/robux`), remaining);
    rbxText.textContent = `RBX: ${remaining}`;

    await set(ref(db, `withdraws/${user.uid}`), {
      amount: 100,
      username: username,
      email: email,
      status: 'pending',
      adminMessage: '',
      timestamp: Date.now()
    });

    pendingRBXBar.textContent = `Pending Robux: 100`;
    pendingRBXBar.style.color = 'yellow';

    withdrawNotice.textContent = "Withdrawal request sent!";
    withdrawNotice.style.display='block';
    withdrawNotice.className='notice success';

    withdrawUsername.value='';
    withdrawEmail.value='';
    closeWithdrawModal();

  } catch(err) {
    console.error(err);
    withdrawNotice.textContent="Error submitting request";
    withdrawNotice.style.display='block';
    withdrawNotice.className='notice error';
  }
};

// Listen for admin updates
onAuthStateChanged(auth, user => {
  if(user){
    const pendingRef = ref(db, `withdraws/${user.uid}`);
    onValue(pendingRef, snapshot => {
      if(!snapshot.exists()) return;
      const data = snapshot.val();
      if(data.status==='paid'){
        pendingRBXBar.textContent = `Paid: ${data.adminMessage || ''}`;
        pendingRBXBar.style.color='green';
      } else if(data.status==='rejected'){
        pendingRBXBar.textContent = `Rejected: ${data.adminMessage || ''}`;
        pendingRBXBar.style.color='red';
      } else {
        pendingRBXBar.textContent = `Pending Robux: ${data.amount}`;
        pendingRBXBar.style.color='yellow';
      }
    });
  }
});

/* --- LOADING SCREEN LOGIC --- */
const loadingScreen = document.getElementById('loadingScreen');
const loadingBar = document.getElementById('loadingBar');

function spawnCoins(amount){
  for(let i=0;i<amount;i++){
    const coin = document.createElement('div');
    coin.className='robuxCoin';
    coin.style.left = Math.random()*90+'vw';
    coin.style.top = '-50px';
    coin.style.animationDuration = (1.5 + Math.random()*1) + 's';
    loadingScreen.appendChild(coin);
    setTimeout(()=>coin.remove(), 2500);
  }
}

let progress = 0;
const progressInterval = setInterval(()=>{
  progress += Math.random()*5; 
  if(progress > 95) progress = 95;
  loadingBar.style.width = progress + '%';
}, 100);

function hideLoader() {
  loadingBar.style.width = '100%';
  spawnCoins(25);
  setTimeout(()=>{ loadingScreen.style.display='none'; }, 2000);
}

onAuthStateChanged(auth, async user => {
  if(user){
    authButtons.style.display = 'none';
    balanceBtn.style.display = 'flex';
    closeLoginModal();
    closeSignupModal();

    try {
      const rbxRef = ref(db, `users/${user.uid}/robux`);
      const snapshot = await get(rbxRef);
      const rbxValue = snapshot.exists() ? snapshot.val() : 0;
      rbxText.textContent = `RBX: ${rbxValue}`;
    } catch (err) {
      console.error("Failed to fetch RBX:", err);
      rbxText.textContent = 'RBX: 0';
    }
  } else {
    authButtons.style.display = 'flex';
    balanceBtn.style.display = 'none';
  }

  clearInterval(progressInterval);
  hideLoader();
});

/* --- WATCH & EARN SHORTS + PLAYER CONTROLS --- */
const originalVideos = [
  "https://files.catbox.moe/61ny1y.mp4",
  "https://files.catbox.moe/jfapxh.mp4",
  "https://files.catbox.moe/vqvviq.mp4",
  "https://files.catbox.moe/69l5y3.mp4",
  "https://files.catbox.moe/bjwdo9.mp4",
  "https://files.catbox.moe/sjpa2p.mp4",
  "https://files.catbox.moe/j9rxi4.mp4",
  "https://files.catbox.moe/8xiynj.mp4",
  "https://files.catbox.moe/vmhugn.mp4",
  "https://files.catbox.moe/ce1rr5.mp4",
  "https://files.catbox.moe/j5f490.mp4",
  "https://files.catbox.moe/aec00g.mp4",
  "https://files.catbox.moe/s0covk.mp4",
  "https://files.catbox.moe/gii9kh.mp4",
  "https://files.catbox.moe/cfg3ny.mp4"
];

let shuffledVideos = [...originalVideos].sort(() => Math.random() - 0.5);
let currentIndex = 0;

const playerContainer = document.getElementById('videoContainer');
const player = document.getElementById('player');
const source = player.querySelector('source');
const loader = document.getElementById('loader');
const popup = document.getElementById('popup');
const okButton = document.getElementById('okButton');
const topText = document.getElementById('topText');
const playPauseBtn = document.getElementById('playPauseBtn');

// Reset button to "Play"
function resetPlayButton() {
  playPauseBtn.textContent = "▶️ Play";
}

// Track last safe time to prevent seeking
player.lastTime = 0;

// Play/Pause toggle
playPauseBtn.addEventListener('click', () => {
  if(player.paused){
    player.play();
    playPauseBtn.textContent = "⏸️ Pause";
  } else {
    player.pause();
    playPauseBtn.textContent = "▶️ Play";
  }
});

// Prevent seeking ahead
player.addEventListener('seeking', () => {
  if(player.currentTime > player.lastTime){
    player.currentTime = player.lastTime;
  }
});

// Update last safe time
player.addEventListener('timeupdate', () => {
  player.lastTime = player.currentTime;
});

// Top text style
topText.style.cssText = `
  width: 80%;
  max-width: 640px;
  text-align: center;
  padding: 12px 20px;
  margin-bottom: 20px;
  border-radius: 20px;
  background: rgba(255,255,255,0.1);
  backdrop-filter: blur(12px);
  color: #00ffd5;
  font-size: 18px;
  font-weight: 500;
  box-shadow: 0 8px 24px rgba(0,0,0,0.4);
`;
topText.textContent = "You earn 1 Robux per short watched";

// Load video by index
function loadVideo(index){
  loader.style.display = 'flex';
  source.src = shuffledVideos[index];
  player.load();
  resetPlayButton();
}

// Hide loader when video can play
player.addEventListener('canplay', () => {
  loader.style.display = 'none';
});

// Show popup after video ends
player.addEventListener('ended', () => {
  popup.style.display = 'flex';
});

// OK button → reward + next video
okButton.addEventListener('click', async () => {
  popup.style.display = 'none';
  const user = auth.currentUser;
  if(user){
    try {
      const rbxRef = ref(db, `users/${user.uid}/robux`);
      const snapshot = await get(rbxRef);
      const currentRBX = snapshot.exists() ? snapshot.val() : 0;
      await set(rbxRef, currentRBX + 1);
      rbxText.textContent = `RBX: ${currentRBX + 1}`;
    } catch(err){
      console.error("Failed to reward RBX:", err);
    }
  }

  // Next video shuffle
  currentIndex++;
  if(currentIndex >= shuffledVideos.length){
    shuffledVideos = [...originalVideos].sort(() => Math.random() - 0.5);
    currentIndex = 0;
  }
  loadVideo(currentIndex);
});

// Load first video
loadVideo(currentIndex);
// Show loader when video is buffering
player.addEventListener('waiting', () => {
  loader.style.display = 'flex';
});

// Hide loader when video resumes playing
player.addEventListener('playing', () => {
  loader.style.display = 'none';
});

// Optional: fallback for slow network
let bufferingTimeout;
player.addEventListener('waiting', () => {
  clearTimeout(bufferingTimeout);
  bufferingTimeout = setTimeout(() => {
    console.warn("Video is taking too long to load. You might be on slow Wi-Fi.");
    loader.style.display = 'flex';
  }, 5000); // 5 seconds threshold
});

player.addEventListener('playing', () => {
  clearTimeout(bufferingTimeout);
  loader.style.display = 'none';
});
// Dropdown toggle
document.querySelectorAll('#howItWorks .step').forEach(step => {
  step.addEventListener('click', () => {
    const content = step.querySelector('.step-content');
    const arrow = step.querySelector('.arrow');
    if(content.style.display === 'none' || content.style.display === ''){
      content.style.display = 'block';
      arrow.textContent = '▲';
    } else {
      content.style.display = 'none';
      arrow.textContent = '▼';
    }
  });
});
</script>
<!-- SCRIPTS -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-database.js";

// Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyDFHskUWiyHhZke3KT9kkOtFI_gPsKfiGo",
  authDomain: "itzhoyoo-f9f7e.firebaseapp.com",
  databaseURL: "https://itzhoyoo-f9f7e-default-rtdb.firebaseio.com",
  projectId: "itzhoyoo-f9f7e",
  storageBucket: "itzhoyoo-f9f7e.filestorage.app",
  messagingSenderId: "1094792075584",
  appId: "1:1094792075584:web:d49e9c3f899d3cd31082a5",
  measurementId: "G-LLT6F9WRKH"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

// POPUP LOGIC
const popupModal = document.getElementById('popupModal');
const popupInnerContent = document.getElementById('popupInnerContent');

document.querySelectorAll('.footer-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const templateId = btn.dataset.popup;
    const template = document.getElementById(templateId);
    popupInnerContent.innerHTML = template.innerHTML;
    popupModal.style.display = 'flex';

    // Contact form submission
    const contactForm = document.getElementById('contactForm');
    if(contactForm){
      const submitBtn = contactForm.querySelector('button');
      contactForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        submitBtn.disabled = true;
        const email = contactForm.email.value;
        const message = contactForm.message.value;
        try {
          await push(ref(db, 'contactMessages'), {email, message, timestamp: Date.now()});
          document.getElementById('contactStatus').innerText = "Message sent successfully!";
          contactForm.reset();
        } catch(err) {
          document.getElementById('contactStatus').innerText = "Error sending message.";
          console.error(err);
        } finally {
          submitBtn.disabled = false;
        }
      });
    }
  });
});

function closePopup(){
  popupModal.style.display='none';
  popupInnerContent.innerHTML='';
}

// Close when clicking outside content
popupModal.addEventListener('click', e => {
  if(e.target === popupModal){
    closePopup();
  }
});
</script>
</body>
</html>